(this["webpackJsonpgoit-react-hw-04-images"]=this["webpackJsonpgoit-react-hw-04-images"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ItemGalleryItem_ImageGalleryItem__6YW9F",ImageGalleryItem_image:"ItemGalleryItem_ImageGalleryItem_image__3SR71"}},16:function(e,t,a){e.exports={ImageGallery:"ItemGallery_ImageGallery__3L-0J"}},17:function(e,t,a){e.exports={Button:"Button_Button__SEmgZ"}},19:function(e,t,a){e.exports={loader:"Loading_loader__3j0UR"}},25:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),s=(a(25),a(14)),i=a(3),l=a(5),u=a(2),b=a.n(u),j=a(1);function m(e){var t=e.children;return Object(j.jsx)("div",{children:t})}m.protoTypes={children:b.a.string};var d=a(10),h=(a(12),a(6)),g=a.n(h);function O(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(j.jsx)("header",{className:g.a.Searchbar,children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===r.trim())return l.b.error("Please enter your query!");t(r),o("")},className:g.a.SearchForm,children:[Object(j.jsxs)("button",{className:g.a.SearchForm_button,type:"submit",children:[Object(j.jsx)(d.b,{}),Object(j.jsx)("span",{className:g.a.SearchForm_button_label,children:"Search"})]}),Object(j.jsx)("input",{className:g.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,value:r,onChange:function(e){return o(e.currentTarget.value.toLowerCase())},placeholder:"Search images and photos"})]})})}var _=a(13),f=a.n(_);function p(e){var t=e.src,a=e.alt,n=e.dataSrc,c=e.onClick;return Object(j.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(j.jsx)("img",{className:f.a.ImageGalleryItem_image,src:t,alt:a,"data-src":n,onClick:c})})}var S=a(16),x=a.n(S);function v(e){var t=e.images,a=e.onClick;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL,r=e.tags;return Object(j.jsx)(p,{src:n,alt:r,dataSrc:c,onClick:a},t)}))})})}var y={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=23952211-93282d818c12dbc54947c6758&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))}},I=a(15),C=a(20),F=a(17),k=a.n(F),w=["onClick"],M=function(e){var t=e.onClick,a=Object(C.a)(e,w);return Object(j.jsx)("button",Object(I.a)(Object(I.a)({className:k.a.Button,type:"button",onClick:t},a),{},{children:"Load more"}))},L=a(18),N=a.n(L),G=(a(47),a(8)),B=a.n(G),E=document.querySelector("#modal-root");function R(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(j.jsx)("div",{className:B.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(j.jsxs)("div",{className:B.a.Modal,children:[a,Object(j.jsx)("button",{type:"button",className:B.a.ModalButton,children:Object(j.jsx)(d.a,{className:B.a.ModalCloseIcon,onClick:t})})]})}),E)}function T(e){return l.b.error("We did not find ".concat(e),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}T.propTypes={inputValue:b.a.string};a(48);var U=a(19),P=a.n(U);function D(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),u=o[0],b=o[1],d=Object(n.useState)(!1),h=Object(i.a)(d,2),g=h[0],_=h[1],f=Object(n.useState)(""),p=Object(i.a)(f,2),S=p[0],x=p[1],I=Object(n.useState)(""),C=Object(i.a)(I,2),F=C[0],k=C[1],w=Object(n.useState)(1),L=Object(i.a)(w,2),G=L[0],B=L[1],E=Object(n.useState)(null),U=Object(i.a)(E,2),D=U[0],J=U[1],q=Object(n.useState)("idle"),z=Object(i.a)(q,2),V=z[0],A=z[1];Object(n.useEffect)((function(){G>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),a||b([]),a&&(A("pending"),y.fetchImages(a,G).then((function(e){var t=e.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags}}));t.length>0?(b((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),A("resolved")):(T(a),A("idle"))})).catch((function(e){J(e),A("pending")})))}),[G,a]);var H=function(e){e!==a&&(c(e),B(1),b([]),A("pending"))};return Object(j.jsxs)(m,{children:["idle"===V&&Object(j.jsx)(O,{onSubmit:H}),"pending"===V&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{onSubmit:H}),Object(j.jsx)(v,{images:u}),u.length>0&&Object(j.jsx)(v,{images:u}),Object(j.jsx)(N.a,{className:P.a.loader,type:"ThreeDots",color:"#00BFFF",height:80,width:80})]}),"resolved"===V&&Object(j.jsxs)(j.Fragment,{children:[g&&Object(j.jsx)(R,{onClose:function(){_(!g)},children:Object(j.jsx)("img",{src:S,alt:F})}),Object(j.jsx)(O,{onSubmit:H}),Object(j.jsx)(v,{onClick:function(e){var t=e.target.dataset.src,a=e.target.alt;_(!0),x(t),k(a)},images:u}),Object(j.jsx)(M,{onClick:function(){B((function(e){return e+1})),A("pending")}})]}),"rejected"===V&&Object(j.jsx)("h2",{children:D.message}),Object(j.jsx)(l.a,{theme:"colored"})]})}var J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,50)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(D,{})}),document.getElementById("root")),J()},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3oieV",SearchForm:"Searchbar_SearchForm__24D6j",SearchForm_button:"Searchbar_SearchForm_button__35thz",SearchForm_button_label:"Searchbar_SearchForm_button_label__3dAog",SearchForm_input:"Searchbar_SearchForm_input__3yASJ"}},8:function(e,t,a){e.exports={Overlay:"Modal_Overlay__210YV",Modal:"Modal_Modal__2Ibu2",ModalButton:"Modal_ModalButton__2MGQz",ModalCloseIcon:"Modal_ModalCloseIcon__150-o"}}},[[49,1,2]]]);
//# sourceMappingURL=main.83eb9e97.chunk.js.map